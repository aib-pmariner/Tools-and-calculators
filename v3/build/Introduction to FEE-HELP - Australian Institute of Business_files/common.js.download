/*!
 * CMS Admin Styles (cms-admin-styles) - 1.0.0
 * @created 2017/07/25
 * ** This file was compiled with Grunt. Please do not edit it directly. **
 */
function loadWindowPreferences(){""==prefWindowHeight&&""==prefWindowWidth&&loadJavaScript("/public/appconstants.jsp","setWindowPreferences")}function setWindowPreferences(){minWindowHeight=AppConstantsWrapper.getMinWindowHeight(),minWindowWidth=AppConstantsWrapper.getMinWindowWidth(),prefWindowHeight=AppConstantsWrapper.getWindowHeight(),prefWindowWidth=AppConstantsWrapper.getWindowWidth()}function getWindowName(){return"popup_window"+(new Date).getTime()}function getCookieVal(a){var b=document.cookie.indexOf(";",a);return-1==b&&(b=document.cookie.length),unescape(document.cookie.substring(a,b))}function getCookie(a){for(var b=a+"=",c=b.length,d=document.cookie.length,e=0;d>e;){var f=e+c;if(document.cookie.substring(e,f)==b)return getCookieVal(f);if(e=document.cookie.indexOf(" ",e)+1,0==e)break}return null}function createCookie(a,b){var c=(new Date).getTime();c+=24192e5,c=new Date(c),document.cookie=a+"="+b+"; path=/; expires="+c.toGMTString()}function setCookie(a,b){var c=setCookie.arguments,d=setCookie.arguments.length,e=d>2?c[2]:null,f=(d>3?c[3]:null,d>4?c[4]:null),g=d>5?c[5]:!1;e=(new Date).getTime(),e+=24192e5,e=new Date(e),document.cookie=a+"="+b+(null==e?"":"; expires="+e.toGMTString())+"; path=/"+(null==f?"":"; domain="+f)+(1==g?"; secure":"")}function setSessionCookie(a,b){document.cookie=a+"="+b+"; expires=0; path=/"}function showTag(a){jQuery("#"+a).show()}function scheduleHideTag(a){tagTimeout=window.setTimeout("hideTag('"+a+"');",1500)}function abortHideTag(){window.tagTimeout&&window.clearTimeout(tagTimeout)}function hideTag(a){jQuery("#"+a).hide()}function addTag(a,b,c){var d=document.getElementById("mytags"),e=document.getElementById("tag_"+b);if("undefined"!=typeof d&&null!=d&&("undefined"==typeof e||null==e)){var f=document.createElement("li");f.id="tag_"+b;var g=location.href;g+=(g.indexOf("?")>=0?"&":"?")+"type="+a,f.innerHTML='<a href="'+g+'">'+a+"</a><a href=\"javascript:removeTag('"+b+"', '"+a+"', '"+c+'\');"><img src="/images/delete.gif" alt="Remove Tag"/></a>',d.appendChild(f)}updateTagCookie(a,"update",c)}function updateTagCookie(a,b,c){var d=getCookie(c);if("update"==b)null!=d?(d=d.replace(/"/g,""),d.indexOf(a)<0&&(""!=d?d+="||"+a:d=a)):null==d&&(d=a);else if(null!=d&&d.indexOf(a)>=0){var e=new Array,f=0;for(d=d.replace(/"/g,""),e=d.split("||"),d="";f<e.length;)e[f]!=a&&(""!=d?d+="||"+e[f]:d=e[f]),f++}d='"'+d+'"';var g=getCookie(c);null==g?createCookie(c,d):setCookie(c,d)}function removeTag(a,b,c){var d=document.getElementById("tag_"+a);"undefined"!=typeof d&&d.parentNode.removeChild(d),updateTagCookie(b,"delete",c)}function submitConstructedForm(a){document.body.appendChild(a),a.submit()}function constructForm(a,b){var c,d,e,f,g,h,i,j;for(c=document.createElement("form"),c.method=a.get("method"),c.action=a.get("action"),c.style.display="none",e=b.length,j=0;e>j;j++){f=b[j][0],g=b[j][1],h=b[j][2],i=b[j][3];try{d=document.createElement("<"+h+' name="'+f+'"'+(null==i?"":' type="'+i+'"')+">")}catch(k){d=document.createElement(h),d.setAttribute("name",f),null!=i&&d.setAttribute("type",i)}d&&("textarea"==h.toLowerCase()?d.innerHTML=g:d.setAttribute("value",g)),c.appendChild(d)}return c}function containsXSS(a){var b=a.toLowerCase(),c=!1;return(b.match(/<script/)||b.match(/<\/script/)||b.match(/javascript:/)||b.match(/href=/)||b.match(/<img/)||b.match(/<object/))&&(c=!0),c}function elementContainsXSS(a){return jQuery("#"+a).length&&""!=jQuery("#"+a).val()?containsXSS(jQuery("#"+a).val()):!1}function trimResult(a){return jQuery.trim(a)}function toggleLayer(a){jQuery(a).toggle()}function hideLayer(a){jQuery(a).hide()}function showLayer(a){jQuery(a).show()}function setHtml(a,b){jQuery(a).html(b)}function setValue(a,b){jQuery(a).val(b)}function ajaxLoadIntoPage(a,b){2==arguments.length?jQuery(a).load(b):3==arguments.length?jQuery(a).load(b,arguments[2]):4==arguments.length&&jQuery(a).load(b,arguments[2],arguments[3])}function ajaxRequest(a,b){var c,d=b;return d.url=a,"undefined"==typeof b.async||b.async?void jQuery.ajax(d):(c=jQuery.ajax(d),c.responseText)}function ajaxLoad(a,b,c,d,e){var f="";"undefined"!=typeof c&&""!=c&&(f=c),ajaxRequest(b,{data:f,cache:!1,success:function(e){setHtml("#"+a,trimResult(e)),jQuery("#"+a).is(":visible")||jQuery("#"+a).toggle("fast"),"function"==typeof d&&d(),"function"==typeof window.cms.callbacks.ajaxLoad&&window.cms.callbacks.ajaxLoad(a,b,c)},error:function(a,b,c){"function"==typeof e&&e(b,c)}})}function ajaxLoadSuccessFailure(a,b,c){var d="";"undefined"!=typeof c&&""!=c&&(d=c),displayLoadingIcon(a),jQuery.ajax({dataType:"json",async:!0,cache:!1,url:b,data:c,success:function(b){setHtml("#"+a,trimResult(b.message))}})}function ajaxPostSuccessFailure(a,b,c,d){jQuery.ajax({url:c,type:"post",dataType:"json",data:jQuery("form#"+a).serialize(),success:function(a){setHtml("#"+b,trimResult(a.message)),"function"==typeof d&&d(a)},error:function(a,b,c){var e={jqXHR:a,status:b,error:c};"function"==typeof d&&d(e)}})}function ajaxFormPost(a,b,c,d){var e=!1;jQuery("#"+a).find("input").each(function(a){containsXSS(jQuery(this).val())&&(e=!0)}),"undefined"!=typeof d&&d||(d=function(a){setHtml("#"+c,trimResult(a))}),e?alert("Could not post form"):jQuery.post(b,jQuery("#"+a).serialize(),function(e,f){d(e),"function"==typeof callback&&callback(),"function"==typeof window.cms.callbacks.ajaxFormPost&&window.cms.callbacks.ajaxFormPost(a,b,c)})}function displayLoadingIcon(a){jQuery("#"+a).html("<div id='streamLoadingSpinner' class='loadingSpinner'></div>")}function ajaxSearchPost(a,b,c,d){window.cms.search&&"function"==typeof window.cms.search.clearPagination&&window.cms.search.clearPagination(b),ajaxSearchPostWithPageNum(a,b,c,d,1)}function ajaxSearchPostWithPageNumAndParams(a,b,c,d,e,f){var g="/public/search.jsp",h=f,i=!1;if("function"==typeof window.cms.callbacks.ajaxSearchPostInit&&window.cms.callbacks.ajaxSearchPostInit(a,b,e,f),""==h)ajaxSearchPostWithPageNum(a,b,c,d,e);else if(jQuery("#"+a).find("input").each(function(a){containsXSS(jQuery(this).val())&&(i=!0)}),i)alert("Invalid Search");else{window.cms.search.infiniteScroll||displayLoadingIcon(b),h+="&page="+e,d&&(location.href.indexOf("?")>-1&&(h+="&"+location.href.substring(location.href.indexOf("?")+1)),h.indexOf("#sthash")>=0&&(h=h.substring(0,h.indexOf("#sthash")-1)));var j=function(a){setHtml("#"+b,trimResult(a))};window.cms.search&&window.cms.search.infiniteScroll&&"function"==typeof window.cms.search.createInfiniteLoadAjaxCallback&&(j=window.cms.search.createInfiniteLoadAjaxCallback(b)),""==a?ajaxRequest(g,{data:h,cache:!1,success:j}):(""!=h&&(g=g+"?"+h),ajaxFormPost(a,g,b,j))}}function ajaxSearchPostWithPageNum(a,b,c,d,e,f,g){var h="/public/search.jsp",i="",j=!1;jQuery("#"+a).find("input").each(function(a){containsXSS(jQuery(this).val())&&(j=!0)}),j?alert("Invalid Search"):("function"==typeof window.cms.callbacks.ajaxSearchPostInit&&window.cms.callbacks.ajaxSearchPostInit(a,b,e),window.cms.search.infiniteScroll||displayLoadingIcon(b),d&&location.href.indexOf("?")>-1&&(i=location.href.substring(location.href.indexOf("?")+1),i.indexOf("#sthash")>=0&&(i=i.substring(0,i.indexOf("#sthash")-1))),"undefined"!=typeof m_abstract_enabled&&i.indexOf("f_abstract_enabled=")<0&&(i+=(""==i?"":"&")+"f_abstract_enabled="+m_abstract_enabled+"&f_abstract_fragment_count="+m_abstract_fragment_count+"&f_abstract_fragment_size="+m_abstract_fragment_size+"&f_abstract_fragment_separator="+m_abstract_fragment_separator),"undefined"!=typeof m_layout_control&&i.indexOf("f_layout_control=")<0&&(i+=(""==i?"":"&")+"f_layout_control="+escape(m_layout_control)),"undefined"!=typeof m_javascriptEnabled&&i.indexOf("f_javascriptEnabled=")<0&&(i+=(""==i?"":"&")+"f_javascriptEnabled="+escape(m_javascriptEnabled)),"undefined"!=typeof m_openWindowEnabled&&i.indexOf("f_openWindowEnabled=")<0&&(i+=(""==i?"":"&")+"f_openWindowEnabled="+escape(m_openWindowEnabled)),"undefined"!=typeof m_show_all_results&&i.indexOf("f_show_all_results=")<0&&(i+=(""==i?"":"&")+"f_show_all_results="+m_show_all_results),"undefined"!=typeof m_displayIcons&&i.indexOf("f_displayIcons=")<0&&(i+=(""==i?"":"&")+"f_displayIcons="+m_displayIcons),"undefined"!=typeof m_displayPreviews&&i.indexOf("f_displayPreviews=")<0&&(i+=(""==i?"":"&")+"f_displayPreviews="+m_displayPreviews),"undefined"!=typeof m_displayThumbnails&&i.indexOf("f_displayThumbnails=")<0&&(i+=(""==i?"":"&")+"f_displayThumbnails="+m_displayThumbnails),"undefined"!=typeof m_displayAltTitle&&i.indexOf("f_displayAltTitle=")<0&&(i+=(""==i?"":"&")+"f_displayAltTitle="+m_displayAltTitle),"undefined"!=typeof m_displayPublisher&&i.indexOf("f_displayPublisher=")<0&&(i+=(""==i?"":"&")+"f_displayPublisher="+m_displayPublisher),"undefined"!=typeof m_displayDateModified&&i.indexOf("f_displayDateModified=")<0&&(i+=(""==i?"":"&")+"f_displayDateModified="+m_displayDateModified),"undefined"!=typeof m_displayPdfLink&&i.indexOf("f_displayPdfLink=")<0&&(i+=(""==i?"":"&")+"f_displayPdfLink="+m_displayPdfLink),"undefined"!=typeof m_displayHtmlLink&&i.indexOf("f_displayHtmlLink=")<0&&(i+=(""==i?"":"&")+"f_displayHtmlLink="+m_displayHtmlLink),"undefined"!=typeof m_displayTextLink&&i.indexOf("f_displayTextLink=")<0&&(i+=(""==i?"":"&")+"f_displayTextLink="+m_displayTextLink),"undefined"!=typeof m_displayCategoryLink&&i.indexOf("f_displayCategoryLink=")<0&&(i+=(""==i?"":"&")+"f_displayCategoryLink="+m_displayCategoryLink),"undefined"!=typeof m_categoryPage&&i.indexOf("f_categoryPage=")<0&&(i+=(""==i?"":"&")+"f_categoryPage="+m_categoryPage),"undefined"!=typeof m_displayFavouritesLink&&i.indexOf("f_displayFavouritesLink=")<0&&(i+=(""==i?"":"&")+"f_displayFavouritesLink="+m_displayFavouritesLink),"undefined"!=typeof m_fullViewMedia&&i.indexOf("f_fullViewMedia=")<0&&(i+=(""==i?"":"&")+"f_fullViewMedia="+m_fullViewMedia),"undefined"!=typeof m_fullViewSubmission&&i.indexOf("f_fullViewSubmission=")<0&&(i+=(""==i?"":"&")+"f_fullViewSubmission="+m_fullViewSubmission),"undefined"!=typeof m_mediaDimensions&&i.indexOf("f_mediaDimensions=")<0&&(i+=(""==i?"":"&")+"f_mediaDimensions="+m_mediaDimensions),"undefined"!=typeof m_tagThesName&&i.indexOf("f_tagThesName=")<0&&(i+=(""==i?"":"&")+"f_tagThesName="+m_tagThesName),"undefined"!=typeof m_orgPage&&i.indexOf("f_orgPage=")<0&&(i+=(""==i?"":"&")+"f_orgPage="+m_orgPage),"undefined"!=typeof m_renderFacets&&i.indexOf("f_render_facets=")<0&&(i+=(""==i?"":"&")+"f_render_facets="+m_renderFacets),"undefined"!=typeof m_facetsElementId&&i.indexOf("facet_element=")<0&&(i+=(""==i?"":"&")+"facet_element="+m_facetsElementId),"undefined"!=typeof m_facet_value&&i.indexOf("facet_value=")<0&&(i+=(""==i?"":"&")+"facet_value="+m_facet_value),"undefined"!=typeof m_boostTitle&&i.indexOf("boost_title=")<0&&(i+=(""==i?"":"&")+"boost_title="+m_boostTitle),"undefined"!=typeof m_boostBody&&i.indexOf("boost_body=")<0&&(i+=(""==i?"":"&")+"boost_body="+m_boostBody),"undefined"!=typeof m_boostDesc&&i.indexOf("boost_desc=")<0&&(i+=(""==i?"":"&")+"boost_desc="+m_boostDesc),"undefined"!=typeof m_boostMeta&&i.indexOf("boost_meta=")<0&&(i+=(""==i?"":"&")+"boost_meta="+m_boostMeta),"undefined"!=typeof m_dateModifiedNorm&&i.indexOf("date_modified_norm=")<0&&(i+=(""==i?"":"&")+"date_modified_norm="+m_dateModifiedNorm),cms.search&&(window.cms.search.searchAllIfEmpty&&i.indexOf("f_searchAllIfEmpty=")<0&&(i+=(""==i?"":"&")+"f_searchAllIfEmpty="+cms.search.searchAllIfEmpty),window.cms.search.infiniteScroll&&i.indexOf("f_infiniteScroll=")<0&&(i+=(""==i?"":"&")+"f_infiniteScroll="+cms.search.infiniteScroll)),"undefined"!=typeof b&&i.indexOf("f_resultDivId=")<0&&(i+=(""==i?"":"&")+"f_resultDivId="+b),"undefined"!=typeof f&&i.indexOf("rst=")<0&&(i+=(""==i?"":"&")+"rst="+f),i+=(""==i?"":"&")+"f_web_id="+c,i+="&page="+e,"undefined"!=typeof g&&g||(g=function(a){setHtml("#"+b,trimResult(a))},window.cms.search&&window.cms.search.infiniteScroll&&"function"==typeof window.cms.search.createInfiniteLoadAjaxCallback&&(g=window.cms.search.createInfiniteLoadAjaxCallback(b))),""==a?ajaxRequest(h,{data:i,cache:!1,success:g}):(""!=i&&(h=h+"?"+i),ajaxFormPost(a,h,b,g)))}function ajaxEditModeLinkPost(a){var b="/public/editmodelink.jsp",c="f_helpertext_in_edit_mode="+m_editmodelink_helpertext_in_edit_mode+"&f_helpertext_in_normal_mode="+m_editmodelink_helpertext_in_normal_mode+"&f_page_id="+m_editmodelink_page_id;ajaxRequest(b,{data:c,cache:!1,success:function(b){setHtml("#"+a,trimResult(b))}})}function ajaxEditModeLinkUpdate(){var a="/public/editmodelink.jsp",b="f_action=change&f_page_id="+m_editmodelink_page_id;ajaxRequest(a,{data:b,cache:!1,success:function(a){location.href=trimResult(a)}})}function ajaxShareAdd(a,b,c,d,e){var f="";a.indexOf("?")>-1&&(f=a.substring(a.indexOf("?")+1),a=a.substring(0,a.indexOf("?"))),f+=(""==f?"":"&")+"pid="+b+"&returnto="+c,ajaxRequest(a,{data:f,cache:!1,success:function(a){alert(d)}})}function ajaxListingPost(a,b,c){if(setValue("#"+a,b),c){var d=jQuery("#"+a).parents("form").attr("action"),e=d.indexOf(a);if(e>-1){var f=d.substring(0,e),g=d.substring(e),h=g.indexOf("&");0>h?f.indexOf("&")==f.length-1&&(d=f.substring(0,f.length-1)):d=f+g.substring(h+1)}d+=d.indexOf("?")>-1?"&":"?",d+=a+"="+b,location.href=d}else jQuery("#"+a).parents("form").submit()}function formatDate(a,b){b+="";var c,d="",e=0,f="",g="",h=a.getYear()+"",i=a.getMonth()+1,j=a.getDate(),k=a.getDay(),c=a.getHours(),l=a.getMinutes(),m=a.getSeconds(),n=new Object;for(h.length<4&&(h=""+(h-0+1900)),n.y=""+h,n.yyyy=h,n.yy=h.substring(2,4),n.M=i,n.MM=LZ(i),n.MMM=MONTH_NAMES[i-1],n.NNN=MONTH_NAMES[i+11],n.d=j,n.dd=LZ(j),n.E=DAY_NAMES[k+7],n.EE=DAY_NAMES[k],n.H=c,n.HH=LZ(c),0==c?n.h=12:c>12?n.h=c-12:n.h=c,n.hh=LZ(n.h),c>11?n.K=c-12:n.K=c,n.k=c+1,n.KK=LZ(n.K),n.kk=LZ(n.k),c>11?n.a="PM":n.a="AM",n.m=l,n.mm=LZ(l),n.s=m,n.ss=LZ(m);e<b.length;){for(f=b.charAt(e),g="";b.charAt(e)==f&&e<b.length;)g+=b.charAt(e++);d+=null!=n[g]?n[g]:g}return d}function LZ(a){return(0>a||a>9?"":"0")+a}function isValidEmailAddress(a){var b=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return b.test(a)}function isValidValue(a,b){var c=new RegExp(b),d=c.exec(jQuery("#"+a).val());return null==d?!1:!0}function contentListingScroller(a,b){var c=1;jQuery("#"+a+" .centricListingResultContainer").hide(),jQuery("#"+a+" .centricListingResultContainer"+c).show(),setInterval(function(){jQuery("#"+a+" .centricListingResultContainer"+c).slideUp("slow",function(b){c+=1,jQuery("#"+a+" .centricListingResultContainer"+c).length<=0&&(c=1),jQuery("#"+a+" .centricListingResultContainer"+c).show("slow")})},b)}function updateUserDetailStatusLink(){var a=jQuery("#userDetailStatus").html();jQuery("#userDetailStatus").html('<textarea id="userDetailStatusText" rows="1">'+a+"</textarea>"),jQuery("#userDetailStatusLink").html('<a href="Javascript:changeUserDetailStatusLink();" title="Change status">Change status</a>')}function changeUserDetailStatusLink(){var a=jQuery("#userDetailStatusText").val();jQuery("#userDetailStatus").html(a),jQuery("#userDetailStatusLink").html('<a href="Javascript:updateUserDetailStatusLink();" title="Update status">Update status</a>');var b="f_profile_status="+a;ajaxRequest("/public/update_profile_status.jsp",{async:!0,data:b,cache:!1,success:function(a){},error:function(a,b,c){}})}function showUser(id,maxWidth){("undefined"==typeof maxWidth||""==maxWidth)&&(maxWidth="80%25"),ajaxRequest("/public/security/user_profile_redirect.jsp",{async:!0,data:"id="+id+"&maxWidth="+maxWidth,cache:!1,success:function(response){eval(response)},error:function(a,b,c){}})}function smallWindowClose(){window.opener=self,window.close()}function ste_openwindow(a,b,c,d){window.open(a,b,"toolbar=no,width="+c+",height="+d+", directories=0, status=0, scrollbars=1, menubar=0, location=0, resizable=1")}function smallWindowSelect(){var a,b,c;l_tabberWidget.m_tabs[0].m_active?jQuery("select.reposDisplay :selected").length>1?(jQuery("select.reposDisplay :selected").each(function(){a?a+=","+this.value:a=this.value}),jQuery("select.reposDisplay :selected").each(function(){b?b+=", "+this.text:b=this.text})):(a=jQuery("select.reposDisplay :selected").val(),b=jQuery("select.reposDisplay :selected").text()):l_tabberWidget.m_tabs[1].m_active?(getTabberWidget().changeTabAndReload("results",createQueryString($("ContentForm"))+"&f_postback=true&f_savedSearchId=0&f_fromSearchTab=true"),c=!0):l_tabberWidget.m_tabs[2].m_active&&(a=jQuery("#f_selected_resource").val(),b=jQuery("#f_selected_name").val()),null!=a?"editor_popup_public"==reposDisplayMode?window.location="repos_link.jsp?id="+a+"&text="+b:"editor_popup"==reposDisplayMode?window.location="editor_insert_options.jsp?id="+a+"&text="+b:"text_find_popup"==reposDisplayMode?(jQuery("#text_form input[name=f_results]").val(a),jQuery("#text_form").submit()):(window.opener.executeFilterResult(a,b),window.opener=self,window.close()):c||(alert("Please select a value before continuing"),"function"==typeof resetStatefulButtons&&resetStatefulButtons())}function createQueryString(a){for(var b=null,c="",d=0;d<a.elements.length;d++)b=a.elements[d],""!=c&&(c+="&"),"checkbox"==b.type?c+=b.name+"="+(b.checked?"true":"false"):"radio"==b.type?b.checked&&(c+=b.name+"="+escape(b.value)):"f_keyword"==b.name?("%"==b.value&&(b.value=""),c+=b.name+"="+escape(b.value)):c+=b.name+"="+escape(b.value);return c}function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null==d?"":decodeURIComponent(d[1].replace(/\+/g," "))}function removeParam(a,b){var c,d=b.split("?")[0],e=[],f=-1!==b.indexOf("?")?b.split("?")[1]:"";if(""!==f){e=f.split("&");for(var g=e.length-1;g>=0;g-=1)c=e[g].split("=")[0],c===a&&e.splice(g,1);d=d+"?"+e.join("&")}return d}function versioningLinksDisplay(p_resourceId){"undefined"!=typeof p_resourceId?ajaxRequest("/public/resource_versioning.jsp",{data:"id="+p_resourceId,cache:!1,success:function(a){versioningLinksDisplayUpdate(p_resourceId,trimResult(a)),"function"==typeof window.versionLinksDisplayed&&window.versionLinksDisplayed()},error:function(a,b,c){console.log("Versioning links for resource id "+p_resourceId+" have failed to load."),versioningLinksDisplayUpdate(p_resourceId,trimResult(b))}}):versioningLinksLoaded||(versioningLinksLoaded=!0,jQuery(".centricVersioningLinks").each(function(index){var div=jQuery(this),id=div.attr("data-resourceId");""!=id&&ajaxRequest("/public/resource_versioning.jsp",{data:"id="+id,cache:!1,success:function(html){eval(div.html(trimResult(html))),versioningDMSCheckout(id,html),"function"==typeof window.versionLinksDisplayed&&window.versionLinksDisplayed()}})}))}function versioningDMSCheckout(a,b){var c=jQuery('.dmsListingContainer[data-resource-id="'+a+'"] .dmsCheckoutCol a');c&&(-1==b.indexOf("inactive")?c.removeClass("inactive"):c.addClass("inactive"))}function versioningLinksCheckout(a){jQuery("#centricListingMessage"+a).html("Checking out.... <div id='streamLoadingSpinner'></div>"),jQuery("#centricListingMessage"+a).show("fast"),ajaxRequest("/public/resource_versioning.jsp",{data:"id="+a+"&action=checkout",cache:!1,success:function(b){-1==b.indexOf("inactive")?jQuery("#centricListingMessage"+a).html("Check-out successful. <a href='/public/download.jsp?id="+a+"&showOrig=t' class='centricListingCheckedOutMsg'><i class='icon-install'></i> Download Checked out document</a>"):jQuery("#centricListingMessage"+a).html("Check-out failed."),versioningLinksDisplayUpdate(a,trimResult(b))},error:function(b){jQuery("#centricListingMessage"+a).html("Check-out failed.")}})}function versioningLinksEditLink(a,b){jQuery(b).hasClass("cancel")?(versioningLinksCheckinCancelAction(b,"Edit"),"function"==typeof window.cms.callbacks.versioningLinksCheckinCancelAction&&window.cms.callbacks.versioningLinksCheckinCancelAction(a,b)):(jQuery("#centricFileUpload").length&&(jQuery("#centricFileUpload").hide(),jQuery("#centricFileUpload").html("")),jQuery(".centricListingMessage, .resultMessage").show(),jQuery(".centricListingMessage, .resultMessage").html("<div id='streamLoadingSpinner'></div>"),versioningLinksCheckinCancelAll(),"undefined"!=typeof b&&(jQuery(b).find(".text").size()>0?(jQuery(b).find("i").attr("class","icon-cross2"),jQuery(b).find(".text").html("Cancel")):jQuery(b).html('<i class="icon-cross2"></i>Cancel'),jQuery(b).addClass("cancel")),ajaxLoad("centricListingMessage"+a,"/servlet/api/link/form/edit/"+a,{},function(){"function"==typeof window.cms.callbacks.versioningLinksCheckinLoaded&&window.cms.callbacks.versioningLinksCheckinLoaded(a,b)}),"function"==typeof window.cms.callbacks.versioningLinksCheckin&&window.cms.callbacks.versioningLinksCheckin(a,b))}function versioningLinksDelete(a,b){jQuery("#centricListingMessage"+a).html("Verifying request.... <div id='streamLoadingSpinner'></div>"),jQuery("#centricListingMessage"+a).show("fast"),ajaxRequest("/public/resource/delete.jsp",{data:"id="+a+"&action=delete&confirmed="+b,cache:!1,success:function(b){var c=trimResult(b);jQuery("#centricFileDeleteFormDiv"+a).html(c),jQuery("#centricFileDeleteFormDiv"+a).css({display:"block"}),"Delete successful."==c&&location.reload()},error:function(b){jQuery("#centricFileDeleteFormDiv"+a).html("Delete failed.")}})}function versioningLinksDeleteCancel(a){jQuery("#centricFileDeleteFormDiv"+a).is(":visible")&&jQuery("#centricFileDeleteFormDiv"+a).toggle("fast"),jQuery("#centricListingMessage"+a).is(":visible")&&jQuery("#centricListingMessage"+a).toggle("fast")}function versioningLinksCheckinCancelAction(a,b){arguments.length<2&&(b="Check-in"),jQuery(".centricListingMessage, .resultMessage").hide("fast"),jQuery(".centricListingMessage, .resultMessage").html(""),jQuery(a).find(".text").size()>0?(jQuery(a).find("i").attr("class","icon-login"),jQuery(a).find(".text").html(b)):jQuery(a).html('<i class="icon-login"></i>'+b),jQuery(a).removeClass("cancel")}function versioningLinksCheckinCancelAll(){jQuery(".centricListingMessage, .resultMessage").each(function(){var a=jQuery(this).closest(".centricListingResultContainer").find(".centricListingCheckinLink");a.length>0&&a.html().toLowerCase().indexOf("cancel")>=0&&versioningLinksCheckinCancelAction(a)})}function versioningLinksCheckin(a,b){jQuery(b).hasClass("cancel")?(versioningLinksCheckinCancelAction(b),"function"==typeof window.cms.callbacks.versioningLinksCheckinCancelAction&&window.cms.callbacks.versioningLinksCheckinCancelAction(a,b)):(jQuery("#centricFileUpload").length&&(jQuery("#centricFileUpload").hide(),jQuery("#centricFileUpload").html("")),jQuery(".centricListingMessage, .resultMessage").show(),jQuery(".centricListingMessage, .resultMessage").html("Checking out.... <div id='streamLoadingSpinner'></div>"),versioningLinksCheckinCancelAll(),"undefined"!=typeof b&&(jQuery(b).find(".text").size()>0?(jQuery(b).find("i").attr("class","icon-cross2"),jQuery(b).find(".text").html("Cancel")):jQuery(b).html('<i class="icon-cross2"></i>Cancel'),jQuery(b).addClass("cancel")),ajaxLoad("centricListingMessage"+a,"/public/file/edit.jsp","id="+a,function(){"function"==typeof window.cms.callbacks.versioningLinksCheckinLoaded&&window.cms.callbacks.versioningLinksCheckinLoaded(a,b)}),"function"==typeof window.cms.callbacks.versioningLinksCheckin&&window.cms.callbacks.versioningLinksCheckin(a,b))}function versioningLinksUndo(a){jQuery("#centricListingMessage"+a).html("Undo check-out in progress.... <div id='streamLoadingSpinner'></div>"),jQuery("#centricListingMessage"+a).show("fast"),ajaxRequest("/public/resource_versioning.jsp",{data:"id="+a+"&action=undo",cache:!1,success:function(b){jQuery("#centricListingMessage"+a).html("Undo check-out successful."),versioningLinksDisplayUpdate(a,trimResult(b))},error:function(b){jQuery("#centricListingMessage"+a).html("Undo check-out failed.")}})}function versioningLinksDisplayUpdate(a,b){jQuery(".centricVersioningLinks").each(function(c){var d=jQuery(this),e=d.attr("data-resourceId");e==a&&(d.html(b),versioningDMSCheckout(e,b))})}function fileUpload(){jQuery("#centricVersioningUpload<%=Integer.toString(l_resourceId)%>").fileupload({dataType:"json",done:function(a,b){jQuery.each(b.result,function(a,b){""!=b.error?jQuery("#centricVersioningProgress<%=Integer.toString(l_resourceId)%> .centricVersioningMessage").html("<p>Error: "+b.error+"</p>"):(jQuery("#centricVersioningUpload<%=Integer.toString(l_resourceId)%>").remove(),jQuery("#centricVersioningProgress<%=Integer.toString(l_resourceId)%> .centricVersioningMessage").html("<p>Check-in successful: "+b.name+"</p>"),jQuery("#centricVersioningProgress<%=Integer.toString(l_resourceId)%> .centricVersioningBar").remove(),ajaxRequest("/public/resource_versioning.jsp",{data:"id=<%=Integer.toString(l_resourceId)%>",cache:!1,success:function(a){jQuery("#centricVersioningLinks<%=Integer.toString(l_resourceId)%>").html(trimResult(a))}}))})},progressall:function(a,b){var c=parseInt(b.loaded/b.total*100,10);jQuery("#centricVersioningProgress<%=Integer.toString(l_resourceId)%> .centricVersioningBar").css("width",c+"%")}})}function replaceAll(a,b,c){return a.replace(new RegExp(b,"g"),c)}function loadComments(a,b){0==jQuery("#comments"+a).children().length?jQuery.ajax({url:"/public/comments.jsp?resourceId="+a+"&resourceType="+b,dataType:"html"}).done(function(c){jQuery("#comments"+a).html(c);var d=jQuery("#comments"+a+" input[name='blog_name']").val();jQuery("#comments"+a+" form").submit(function(){return setTimeout(function(){var c=jQuery("#blog_post_comments_"+d).val(),e=(jQuery("#blog_post_email_"+d).val(),jQuery("#blog_post_name_"+d).val()),f=(jQuery("#blog_post_url_"+d).val(),jQuery("#blog_post_visibility_"+d).val(),null);return e&&""!=e||(f="You must enter your name to submit a comment."),c&&""!=c||(f="You cannot post empty comments."),null!=f?void alert(f):void jQuery.ajax({url:"/public/comments.jsp?resourceId="+a+"&resourceType="+b,type:"POST",data:$("#comments"+a+" form").serialize()}).done(function(a){window.location.reload()})},0),!1}),jQuery("#blog_post"+a).addClass("blog_form"),jQuery("#blog_post_button"+a).addClass("blog_submit"),jQuery("#comments"+a).show(),jQuery("#commentsShowLink"+a).hide(),jQuery("#commentsHideLink"+a).show(),loadCommentsAjaxCallback(a,d)}):(jQuery("#comments"+a).show(),jQuery("#commentsShowLink"+a).hide(),jQuery("#commentsHideLink"+a).show())}function loadCommentsAjaxCallback(a,b){}function hideComments(a){jQuery("#comments"+a).hide(),jQuery("#commentsShowLink"+a).show(),jQuery("#commentsHideLink"+a).hide()}function cmWindowOpen(a,b,c,d,e,f,g){"undefined"==typeof b||""===b?b="80%":"auto"==b&&(b=!1),"undefined"==typeof c||""===c?c="80%":"auto"==c&&(c=!1),("undefined"==typeof e||""===e)&&(e=!0),("undefined"==typeof d||""===d)&&(d=!1);var f=f||{};f.iframe=e,f.photo=d,f.width=b,f.height=c,f.maxWidth=f.maxWidth||g||"80%",f.maxHeight=f.maxWidth||"80%",f.href=a,f.close="x",a+=a.indexOf("?")>=0?"&":"?",a+="display=overlay",jQuery.colorbox(f)}function cmWindowOpenWithGridData(a,b,c,d){var e=jQuery("#"+a).jqGrid("getGridParam","selrow");if(e){var f=jQuery("#"+a).jqGrid("getRowData",e);b+="?id="+f.id,cmWindowOpen(b,c,d)}else alert("Please select row.")}function cmOpenWindow(a,b){var c=980,d=800,e=(screen.width-c)/2,f=(screen.height-d)/2;1==arguments.length&&(b=""),window.open(a,b,"width="+c+",height="+d+",scrollbars=1,resizable=1,left="+e+",top="+f)}function cmOpenOverlay(a,b,c,d){var e=function(){c=c||prefWindowWidth||870,d=d||prefWindowHeight||500,b+=b.indexOf("?")>=0?"&":"?",b+="display=thickbox&TB_iframe=true&width="+c+"&height="+d,tb_show(a,b,!1)};"undefined"!=typeof c&&""!=c&&"undefined"!=typeof d&&""!=d?e():""!=prefWindowHeight&&""!=prefWindowWidth?e():jQuery.ajax({url:"/public/appconstants.jsp",dataType:"script",cache:!1,success:function(){setWindowPreferences(),e()},fail:function(){e()}})}function cmCloseOverlay(){tb_remove()}function restackJSearchDropDown(){if(jQuery.browser.msie)for(var a=jQuery(".jsearchdropdown_menu"),b=a.length+1,c=0;c<a.length;c++){var d=jQuery(a[c]).parent();d.css("z-index",b),b--}}function changeLanguage(a,b,c,d){var d="undefined"!=typeof d?d:"";ajaxRequest("/public/geo/language_change.jsp",{async:!0,data:"geo_id="+b+"&page_id="+a+"&edit_version="+c+"&"+d,cache:!1,success:function(a){/\S/.test(a)&&(window.location.href=a)},error:function(a,b,c){}})}function loadJavaScript(filename,callback){var executeCallback=function(callback,successful){try{"function"==typeof callback?callback(successful):""!=callback&&eval(callback+"();")}catch(err){console.log("Could not execute callback of "+callback)}},executeCallbacksForFileName=function(a,b){if(cmJsCallbacks[a]){for(var c=0;c<cmJsCallbacks[a].length;c++){var d=cmJsCallbacks[a][c];executeCallback(d,b)}cmJsCallbacks[a]=new Array}};cmJsLoadedFiles[filename]?executeCallback(callback,!0):(cmJsCallbacks[filename]||(cmJsCallbacks[filename]=new Array),cmJsCallbacks[filename].push(callback),cmJsLoadingFiles[filename]||(cmJsLoadingFiles[filename]=!0,jQuery.getScript(filename,function(){cmJsLoadedFiles[filename]=!0,cmJsLoadingFiles[filename]=!1,executeCallbacksForFileName(filename,!0)}).fail(function(a,b,c){cmJsLoadingFiles[filename]=!1,console.log("JavaScript load failed: ",c),executeCallbacksForFileName(filename,!1)})))}function prettyFileName(a){var b=a;return b.lastIndexOf(".")>0&&(b=b.substr(0,b.lastIndexOf("."))),b=b.replace(/(-|_)+/gi," ")}function validateFormUsingCustomMandatoryAttribute(a){var b,c=!0,d=jQuery(a);jQuery(".mandatoryError").remove();var e=!0;return d.find(".cmsField").each(function(){b=jQuery("label",this).text().trim(),jQuery("input[data-mandatory='true']",this).each(function(){if(!jQuery(this).val()||""==jQuery(this).val()||"(None)"==jQuery(this).val()){if("file"==this.getAttribute("type")){var a=this.getAttribute("name");if(a.endsWith("_attachment_fileupload")&&(a=a.replace(new RegExp("_attachment_fileupload$"),"_attachment_filedisplay"),document.getElementsByClassName(a).length>0))return}mandatoryErrorExists(this)||(createMandatoryError(this),e&&(this.focus(),e=!1)),c=!1}}),jQuery("textarea[data-mandatory='true']",this).each(function(){jQuery(this).val()&&""!=jQuery(this).val()||(mandatoryErrorExists(this)||(createMandatoryError(this),e&&(this.focus(),e=!1)),c=!1)}),jQuery("ul[data-mandatory='true']",this).each(function(){jQuery("li",this).length<2&&(mandatoryErrorExists(this)||(createMandatoryError(this),e&&(e=!1,$("html,body").animate({scrollTop:this.offset().top},300))),c=!1)}),jQuery("select[data-mandatory='true']",this).each(function(){jQuery(this).val()&&""!=jQuery(this).val()||(mandatoryErrorExists(this)||(createMandatoryError(this),this.focus()),c=!1)})}),c||jQuery(".metaplate-collapsible").each(function(){if(jQuery(this).find(".mandatoryError").size()>0){var a=jQuery(this).prev(".metaplate-title-box");a.size()>0&&a.find("a:not(.open)").trigger("click")}}),c}function mandatoryErrorExists(a){var b=jQuery(a).closest(".cmsField");return jQuery(b).find(".mandatoryError").size()>0}function createMandatoryError(a,b){var b="<div class='mandatoryError'>Field is mandatory.</div>",c=jQuery(a).closest(".cmsField");c.append(b)}function setAllCheckBoxes(a,b,c){var c=jQuery("#${formName} #${formFieldNotify}").is(":checked"),d=document.forms[a].elements[b];if(document.forms[a]&&d){var e=d.length;if(e)for(var f=0;e>f;f++)d[f].checked=c;else d.checked=c}}var minWindowHeight="870",minWindowWidth="500",prefWindowHeight="",prefWindowWidth="",versioningLinksLoaded=!1;window.cms||(window.cms={}),window.cms.callbacks||(window.cms.callbacks={}),window.cms.task||(window.cms.task={});var MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"),dateFormat=function(){
var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(e,f,g){var h=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(f=e,e=void 0),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]),"UTC:"==f.slice(0,4)&&(f=f.slice(4),g=!0);var i=g?"getUTC":"get",j=e[i+"Date"](),k=e[i+"Day"](),l=e[i+"Month"](),m=e[i+"FullYear"](),n=e[i+"Hours"](),o=e[i+"Minutes"](),p=e[i+"Seconds"](),q=e[i+"Milliseconds"](),r=g?0:e.getTimezoneOffset(),s={d:j,dd:d(j),ddd:h.i18n.dayNames[k],dddd:h.i18n.dayNames[k+7],m:l+1,mm:d(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:n%12||12,hh:d(n%12||12),H:n,HH:d(n),M:o,MM:d(o),s:p,ss:d(p),l:d(q,3),L:d(q>99?Math.round(q/10):q),t:12>n?"a":"p",tt:12>n?"am":"pm",T:12>n?"A":"P",TT:12>n?"AM":"PM",Z:g?"UTC":(String(e).match(b)||[""]).pop().replace(c,""),o:(r>0?"-":"+")+d(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),S:["th","st","nd","rd"][j%10>3?0:(j%100-j%10!=10)*j%10]};return f.replace(a,function(a){return a in s?s[a]:a.slice(1,a.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(a,b){return dateFormat(this,a,b)},window.cms.callbacks.listingInfiniteScrollStart||(window.cms.callbacks.listingInfiniteScrollStart=function(){}),window.cms.callbacks.listingInfiniteScrollComplete||(window.cms.callbacks.listingInfiniteScrollComplete=function(){}),jQuery(function(a){a("body").on("click",".recommend-container span.recommend",function(b){var c=a(b.target).closest("span.recommend"),d=c.closest(".recommend-container"),e=d.data("resource-id");c.closest(".centricListingResultContainer").length>0&&(e=c.closest(".centricListingResultContainer").data("resource-id")),a.ajax("/public/recommend.jsp",{data:{resource_id:e,recommend:!c.hasClass("recommended")}}).done(function(a){a.includes_author?(c.addClass("recommended"),1!=d.data("count-only")&&c.html("Unrecommend")):(c.removeClass("recommended"),1!=d.data("count-only")&&c.html("Recommend")),1==d.data("count-only")?d.find(".recommendations").html(a.count):d.find(".recommendations").html(a.count+" Recommendation"+(1==a.count?"":"s"))})})});var cmJsLoadedFiles={},cmJsLoadingFiles={},cmJsCallbacks={};"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),window.cms.task.updateTaskStatus=function(a,b){b="undefined"!=typeof b?b:!0,jQuery.post("/admin/event/task_status_update.jsp?f_resource_id="+a+"&complete="+b,function(a){location.reload()},"html")};