/*!
 * CMS Admin Styles (cms-admin-styles) - 1.0.0
 * @created 2015/09/23
 * ** This file was compiled with Grunt. Please do not edit it directly. **
 */
function processRSS(a,b){var c=0;b.posts=[];var d=!0;jQuery("item",a).each(function(){post={},"undefined"!=typeof jQuery(this).attr("id")&&(post.resourceId=jQuery(this).attr("id")),jQuery(this).find("link").each(function(){post.link=getNodeText(this)}),jQuery(this).find("image").each(function(){post.image=getNodeText(this)}),jQuery(this).find("title").each(function(){post.title=getNodeText(this)}),jQuery(this).find("enclosure").each(function(){post.link=jQuery(this).attr("url")}),jQuery(this).find("pubDate").each(function(){post.date=getNodeText(this)}),jQuery(this).find("description").each(function(){post.desc=getNodeText(this)}),jQuery(this).find("meta").each(function(){return jQuery(this).attr("id")==b.metadataThesaurus?void(post.metadata=getNodeText(this)):void 0}),post.opts=b,d=!0,""!=b.metadataThesaurusValue&&(d="undefined"==typeof post.metadata?!1:post.metadata==b.metadataThesaurusValue?!0:post.metadata.indexOf(b.metadataThesaurusValue)>=0?!0:!1),d&&(!b.isCarousel||b.isCarousel&&c<b.max)&&(b.posts[c++]=post)}),writeposts(b,c)}function trimtext(a,b){var c=a.replace(/\s/g," "),d=c.split(" ");if(d.length<=b)return a;for(var e="",f=0;b>f;f++)e+=d[f]+" ";return e}function writeposts(a,b){var c=!0,d=!0,e=0,f="";for(e=a.max<=b?a.max:b,k=a.min;k<e;k++)f+=format(a.posts[k],a.isCarousel);a.isCarousel?(f='  <div class="jCarouselLite">\n    <ul>\n'+f+"    </ul>\n  </div>\n",f=""==a.buttonLeft?'\n<button class="prev">&lt;&lt;</button>\n'+f:'\n<img class="prev" alt="Previous" src="'+a.buttonLeft+'" />\n'+f,f+=""==a.buttonRight?'<button class="next">&gt;&gt;</button>\n':'<img class="next" alt="Next" src="'+a.buttonRight+'" />\n'):""==f?f="No results found.":(0==a.min&&(d=!1),b<=(a.currentpage+1)*a.items&&(c=!1),f+=getPagination(a,d,c)),jQuery(a.container).empty(),jQuery(a.container).html(f),a.isCarousel&&applyJCarouselLite(a)}function getPagination(a,b,c){var d="";return a.showPagination&&(d="<br />",b&&(d+="<a onclick=\"prevPage('"+a.container.id+'\');" style="cursor:pointer">< prev</a>&nbsp;&nbsp;'),c&&(d+="<a onclick=\"nextPage('"+a.container.id+'\')" style="cursor:pointer">next ></a>')),d}function nextPage(p_divId){eval("var storedopts = global_options."+p_divId+";"),storedopts.currentpage++,jQuery("#"+p_divId).feedreader(storedopts)}function prevPage(p_divId){eval("var storedopts = global_options."+p_divId+";"),storedopts.currentpage--,jQuery("#"+p_divId).feedreader(storedopts)}function format(a,b){var c="";if(b&&(c='<li class="carousel">\n'),c+='<div class="'+a.opts.classItem+'">',a.opts.showThumbnail){var d="";"undefined"!=typeof a.image&&(d=a.image),""==d&&"undefined"!=typeof a.link&&(a.link.indexOf(".jpg")>0||a.link.indexOf(".JPG")>0||a.link.indexOf(".png")>0||a.link.indexOf(".PNG")>0||a.link.indexOf(".gif")>0||a.link.indexOf(".GIF")>0)&&(d=a.link),""!=d&&(c+='<div class="'+a.opts.classThumbnail+'"><img src="'+d+'" /></div>')}return c+='<div class="'+a.opts.classTitle+'">',a.opts.showUrl&&"undefined"!=typeof a.link&&(c+='<a href="'+a.link+'" class="'+a.opts.classTitle+'" target="_blank">'),c+=a.title,a.opts.showUrl&&(c+="</a>"),c+="</div>",a.opts.showDate&&"undefined"!=typeof a.date&&(c+='<div class="'+a.opts.classDate+'">'+a.date+"</div>"),a.opts.showDescription&&"undefined"!=typeof a.desc&&(c+='<div class="'+a.opts.classDescription+'">'+a.desc+"</div>"),"undefined"!=typeof a.metadata&&(c+='<div class="'+a.opts.classDescription+'">'+a.opts.metadataThesaurus+": "+a.metadata+"</div>"),a.opts.showShare&&"undefined"!=typeof a.resourceId&&(c+='<div class=""><a onclick="ajaxShareAdd(\''+a.opts.shareUrl+"', '"+a.resourceId+"', '', '"+a.opts.shareMessage+'\', \'\');" style="cursor:pointer"><img src="'+a.opts.shareImage+'" /></a></div>'),c+="</div>",b&&(c+="</li>\n"),c}function getNodeText(a){var b="";return a.text&&(b=a.text),a.firstChild&&(b=a.firstChild.nodeValue),b}function updateFeed(p_divId,p_thes){eval("var storedopts = global_options."+p_divId+";"),storedopts.showLoadingIcon&&displayLoadingIcon(p_divId),storedopts.metadataThesaurusValue=p_thes,storedopts.currentpage=0,jQuery.get(storedopts.targetUrl,function(a){jQuery("#"+p_divId).feedreader(storedopts)})}function applyJCarouselLite(a){jQuery(".centricFeed .jCarouselLite").jCarouselLite({btnNext:".centricFeed .next",btnPrev:".centricFeed .prev",auto:a.auto,speed:a.speed,vertical:a.vertical,circular:a.circular,visible:a.visible,items:a.posts.length,start:a.start,scroll:a.scroll,widthLi:a.widthLi,heightLi:a.heightLi,widthDiv:a.widthDiv,heightDiv:a.heightDiv})}!function(a){function b(b){m.parent||(m.parent=a('<div id="'+b.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),a.fn.bgiframe&&m.parent.bgiframe(),m.title=a("h3",m.parent),m.body=a("div.body",m.parent),m.url=a("div.url",m.parent))}function c(b){return a.data(b,"tooltip")}function d(b){c(this).delay?l=setTimeout(f,c(this).delay):f(),o=!!c(this).track,a(document.body).bind("mousemove",g),g(b)}function e(){if(!a.tooltip.blocked&&this!=j&&(this.tooltipText||c(this).bodyHandler)){if(j=this,k=this.tooltipText,c(this).bodyHandler){m.title.hide();var b=c(this).bodyHandler.call(this);b.nodeType||b.jquery?m.body.empty().append(b):m.body.html(b),m.body.show()}else if(c(this).showBody){var e=k.split(c(this).showBody);m.title.html(e.shift()).show(),m.body.empty();for(var f,g=0;f=e[g];g++)g>0&&m.body.append("<br/>"),m.body.append(f);m.body.hideWhenEmpty()}else m.title.html(k).show(),m.body.hide();c(this).showURL&&a(this).url()?m.url.html(a(this).url().replace("http://","")).show():m.url.hide(),m.parent.addClass(c(this).extraClass),c(this).fixPNG&&m.parent.fixPNG(),d.apply(this,arguments)}}function f(){l=null,n&&a.fn.bgiframe||!c(j).fade?m.parent.show():m.parent.is(":animated")?m.parent.stop().show().fadeTo(c(j).fade,j.tOpacity):m.parent.is(":visible")?m.parent.fadeTo(c(j).fade,j.tOpacity):m.parent.fadeIn(c(j).fade),g()}function g(b){if(!(a.tooltip.blocked||b&&"OPTION"==b.target.tagName)){if(!o&&m.parent.is(":visible")&&a(document.body).unbind("mousemove",g),null==j)return void a(document.body).unbind("mousemove",g);m.parent.removeClass("viewport-right").removeClass("viewport-bottom");var d=m.parent[0].offsetLeft,e=m.parent[0].offsetTop;if(b){d=b.pageX+c(j).left,e=b.pageY+c(j).top;var f="auto";c(j).positionLeft&&(f=a(window).width()-d,d="auto"),m.parent.css({left:d,right:f,top:e})}var i=h(),k=m.parent[0];i.x+i.cx<k.offsetLeft+k.offsetWidth&&(d-=k.offsetWidth+20+c(j).left,m.parent.css({left:d+"px"}).addClass("viewport-right")),i.y+i.cy<k.offsetTop+k.offsetHeight&&(e-=k.offsetHeight+20+c(j).top,m.parent.css({top:e+"px"}).addClass("viewport-bottom"))}}function h(){return{x:a(window).scrollLeft(),y:a(window).scrollTop(),cx:a(window).width(),cy:a(window).height()}}function i(b){function d(){m.parent.removeClass(e.extraClass).hide().css("opacity","")}if(!a.tooltip.blocked){l&&clearTimeout(l),j=null;var e=c(this);n&&a.fn.bgiframe||!e.fade?d():m.parent.is(":animated")?m.parent.stop().fadeTo(e.fade,0,d):m.parent.stop().fadeOut(e.fade,d),c(this).fixPNG&&m.parent.unfixPNG()}}var j,k,l,m={},n=a.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),o=!1;a.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){a.tooltip.blocked=!a.tooltip.blocked}},a.fn.extend({tooltip:function(c){return c=a.extend({},a.tooltip.defaults,c),b(c),this.each(function(){a.data(this,"tooltip",c),this.tOpacity=m.parent.css("opacity"),this.tooltipText=this.title,a(this).removeAttr("title"),this.alt=""}).mouseover(e).mouseout(i).click(i)},fixPNG:n?function(){return this.each(function(){var b=a(this).css("backgroundImage");b.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(b=RegExp.$1,a(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+b+"')"}).each(function(){var b=a(this).css("position");"absolute"!=b&&"relative"!=b&&a(this).css("position","relative")}))})}:function(){return this},unfixPNG:n?function(){return this.each(function(){a(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})}(jQuery);var global_options={};jQuery.fn.feedreader=function(options){var defaults={targetUrl:"",divId:"",items:3,showUrl:!0,showDate:!0,showDescription:!0,showPagination:!0,showThumbnail:!0,showLoadingIcon:!0,showShare:!1,shareImage:"",shareMessage:"",shareUrl:"",classTitle:"",classDescription:"",classDate:"",classThumbnail:"",classItem:"",metadataThesaurus:"Categories",metadataThesaurusValue:"",isCarousel:!1,buttonLeft:"",buttonRight:"",auto:null,speed:200,vertical:!1,circular:!0,visible:3,start:0,scroll:1,widthLi:225,heightLi:275,widthDiv:675,heightDiv:275};if(!options.targetUrl)return!1;var opts=jQuery.extend(defaults,options);opts.currentpage||(opts.currentpage=0),opts.min=opts.currentpage*opts.items,opts.max=(opts.currentpage+1)*opts.items,opts.showLoadingIcon&&displayLoadingIcon(opts.divId),jQuery(this).each(function(){opts.container||(opts.container=this),0==opts.min?jQuery.get(opts.targetUrl,function(a){processRSS(a,opts)}):writeposts(opts,opts.posts.length),eval("global_options."+opts.divId+"= opts;")})},function(a){a.PaginationCalculator=function(a,b){this.maxentries=a,this.opts=b},a.extend(a.PaginationCalculator.prototype,{numPages:function(){return Math.ceil(this.maxentries/this.opts.items_per_page)},getInterval:function(a){var b=Math.floor(this.opts.num_display_entries/2),c=this.numPages(),d=c-this.opts.num_display_entries,e=a>b?Math.max(Math.min(a-b,d),0):0,f=a>b?Math.min(a+b+this.opts.num_display_entries%2,c):Math.min(this.opts.num_display_entries,c);return{start:e,end:f}}}),a.PaginationRenderers={},a.PaginationRenderers.defaultRenderer=function(b,c){this.maxentries=b,this.opts=c,this.pc=new a.PaginationCalculator(b,c)},a.extend(a.PaginationRenderers.defaultRenderer.prototype,{createLink:function(b,c,d){var e,f=this.pc.numPages();return b=0>b?0:f>b?b:f-1,d=a.extend({text:b+1,classes:""},d||{}),e=b==c?a("<span class='current'>"+d.text+"</span>"):a("<a>"+d.text+"</a>").attr("href",this.opts.link_to.replace(/__id__/,b)),d.classes&&e.addClass(d.classes),e.data("page_id",b),e},appendRange:function(a,b,c,d,e){var f;for(f=c;d>f;f++)this.createLink(f,b,e).appendTo(a)},getLinks:function(b,c){var d,e,f=this.pc.getInterval(b),g=this.pc.numPages(),h=a("<div class='pagination'></div>");return this.opts.prev_text&&(b>0||this.opts.prev_show_always)&&h.append(this.createLink(b-1,b,{text:this.opts.prev_text,classes:"prev"})),f.start>0&&this.opts.num_edge_entries>0&&(e=Math.min(this.opts.num_edge_entries,f.start),this.appendRange(h,b,0,e,{classes:"sp"}),this.opts.num_edge_entries<f.start&&this.opts.ellipse_text&&jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(h)),this.appendRange(h,b,f.start,f.end),f.end<g&&this.opts.num_edge_entries>0&&(g-this.opts.num_edge_entries>f.end&&this.opts.ellipse_text&&jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(h),d=Math.max(g-this.opts.num_edge_entries,f.end),this.appendRange(h,b,d,g,{classes:"ep"})),this.opts.next_text&&(g-1>b||this.opts.next_show_always)&&h.append(this.createLink(b+1,b,{text:this.opts.next_text,classes:"next"})),a("a",h).click(c),h}}),a.fn.pagination=function(b,c){function d(b){var c=a(b.target).data("page_id"),d=e(c);return d||b.stopPropagation(),d}function e(a){i.data("current_page",a),g=f.getLinks(a,d),i.empty(),g.appendTo(i);var b=c.callback(a,i);return b}c=jQuery.extend({items_per_page:10,num_display_entries:11,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,renderer:"defaultRenderer",show_if_single_page:!1,load_first_page:!1,callback:function(){return!1}},c||{});var f,g,h,i=this;if(h=parseInt(c.current_page),i.data("current_page",h),b=!b||0>b?1:b,c.items_per_page=!c.items_per_page||c.items_per_page<0?1:c.items_per_page,!a.PaginationRenderers[c.renderer])throw new ReferenceError("Pagination renderer '"+c.renderer+"' was not found in jQuery.PaginationRenderers object.");f=new a.PaginationRenderers[c.renderer](b,c);var j=new a.PaginationCalculator(b,c),k=j.numPages();i.bind("setPage",{numPages:k},function(a,b){return b>=0&&b<a.data.numPages?(e(b),!1):void 0}),i.bind("prevPage",function(b){var c=a(this).data("current_page");return c>0&&e(c-1),!1}),i.bind("nextPage",{numPages:k},function(b){var c=a(this).data("current_page");return c<b.data.numPages-1&&e(c+1),!1}),g=f.getLinks(h,d),i.empty(),(k>1||c.show_if_single_page)&&g.appendTo(i),c.load_first_page&&c.callback(h,i)}}(jQuery),function(a){var b={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},c=!1;a(window).bind("load.jcarousel",function(){c=!0}),a.jcarousel=function(d,e){this.options=a.extend({},b,e||{}),this.autoStopped=this.locked=!1,this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null,e&&void 0!==e.rtl||(this.options.rtl="rtl"==(a(d).attr("dir")||a("html").attr("dir")||"").toLowerCase()),this.wh=this.options.vertical?"height":"width",this.lt=this.options.vertical?"top":this.options.rtl?"right":"left";for(var f="",g=d.className.split(" "),h=0;h<g.length;h++)if(-1!=g[h].indexOf("jcarousel-skin")){a(d).removeClass(g[h]),f=g[h];break}"UL"==d.nodeName.toUpperCase()||"OL"==d.nodeName.toUpperCase()?(this.list=a(d),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=a(d),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip")),0===this.clip.size()&&(this.clip=this.list.wrap("<div></div>").parent()),0===this.container.size()&&(this.container=this.clip.wrap("<div></div>").parent()),""!==f&&-1==this.container.parent()[0].className.indexOf("jcarousel-skin")&&this.container.wrap('<div class=" '+f+'"></div>'),this.buttonPrev=a(".jcarousel-prev",this.container),0===this.buttonPrev.size()&&null!==this.options.buttonPrevHTML&&(this.buttonPrev=a(this.options.buttonPrevHTML).appendTo(this.container)),this.buttonPrev.addClass(this.className("jcarousel-prev")),this.buttonNext=a(".jcarousel-next",this.container),0===this.buttonNext.size()&&null!==this.options.buttonNextHTML&&(this.buttonNext=a(this.options.buttonNextHTML).appendTo(this.container)),this.buttonNext.addClass(this.className("jcarousel-next")),this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"}),this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0),this.container.addClass(this.className("jcarousel-container")).css({position:"relative"}),!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var i=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,f=this.list.children("li"),j=this;if(f.size()>0){var k=0,l=this.options.offset;f.each(function(){j.format(this,l++),k+=j.dimension(this,i)}),this.list.css(this.wh,k+100+"px"),e&&void 0!==e.size||(this.options.size=f.size())}this.container.css("display","block"),this.buttonNext.css("display","block"),this.buttonPrev.css("display","block"),this.funcNext=function(){j.next()},this.funcPrev=function(){j.prev()},this.funcResize=function(){j.resizeTimer&&clearTimeout(j.resizeTimer),j.resizeTimer=setTimeout(function(){j.reload()},100)},null!==this.options.initCallback&&this.options.initCallback(this,"init"),!c&&a.browser.safari?(this.buttons(!1,!1),a(window).bind("load.jcarousel",function(){j.setup()})):this.setup()};var d=a.jcarousel;d.fn=d.prototype={jcarousel:"0.2.8"},d.fn.extend=d.extend=a.extend,d.fn.extend({setup:function(){if(this.prevLast=this.prevFirst=this.last=this.first=null,this.animating=!1,this.tail=this.resizeTimer=this.timer=null,this.inTail=!1,!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var b=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null,this.animate(b,!1),a(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize),null!==this.options.setupCallback&&this.options.setupCallback(this)}},reset:function(){this.list.empty(),this.list.css(this.lt,"0px"),this.list.css(this.wh,"10px"),null!==this.options.initCallback&&this.options.initCallback(this,"reset"),this.setup()},reload:function(){if(null!==this.tail&&this.inTail&&this.list.css(this.lt,d.intval(this.list.css(this.lt))+this.tail),this.tail=null,this.inTail=!1,null!==this.options.reloadCallback&&this.options.reloadCallback(this),null!==this.options.visible){var a=this,b=Math.ceil(this.clipping()/this.options.visible),c=0,e=0;this.list.children("li").each(function(d){c+=a.dimension(this,b),d+1<a.first&&(e=c)}),this.list.css(this.wh,c+"px"),this.list.css(this.lt,-e+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0,this.buttons()},unlock:function(){this.locked=!1,this.buttons()},size:function(a){return void 0!==a&&(this.options.size=a,this.locked||this.buttons()),this.options.size},has:function(a,b){void 0!==b&&b||(b=a),null!==this.options.size&&b>this.options.size&&(b=this.options.size);for(var c=a;b>=c;c++){var d=this.get(c);if(!d.length||d.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(b){return a(">.jcarousel-item-"+b,this.list)},add:function(b,c){var e=this.get(b),f=0,g=a(c);if(0===e.length){for(var h,i=d.intval(b),e=this.create(b);;)if(h=this.get(--i),0>=i||h.length){0>=i?this.list.prepend(e):h.after(e);break}}else f=this.dimension(e);return"LI"==g.get(0).nodeName.toUpperCase()?(e.replaceWith(g),e=g):e.empty().append(c),this.format(e.removeClass(this.className("jcarousel-item-placeholder")),b),g=null!==this.options.visible?Math.ceil(this.clipping()/this.options.visible):null,f=this.dimension(e,g)-f,b>0&&b<this.first&&this.list.css(this.lt,d.intval(this.list.css(this.lt))-f+"px"),this.list.css(this.wh,d.intval(this.list.css(this.wh))+f+"px"),e},remove:function(a){var b=this.get(a);if(b.length&&!(a>=this.first&&a<=this.last)){var c=this.dimension(b);a<this.first&&this.list.css(this.lt,d.intval(this.list.css(this.lt))+c+"px"),b.remove(),this.list.css(this.wh,d.intval(this.list.css(this.wh))-c+"px")}},next:function(){null===this.tail||this.inTail?this.scroll("both"!=this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||this.last!=this.options.size?this.first+this.options.scroll:1):this.scrollTail(!1)},prev:function(){null!==this.tail&&this.inTail?this.scrollTail(!0):this.scroll("both"!=this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||1!=this.first?this.first-this.options.scroll:this.options.size)},scrollTail:function(a){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var b=d.intval(this.list.css(this.lt)),b=a?b+this.tail:b-this.tail;this.inTail=!a,this.prevFirst=this.first,this.prevLast=this.last,this.animate(b)}},scroll:function(a,b){!this.locked&&!this.animating&&(this.pauseAuto(),this.animate(this.pos(a),b))},pos:function(a,b){var c=d.intval(this.list.css(this.lt));if(this.locked||this.animating)return c;"circular"!=this.options.wrap&&(a=1>a?1:this.options.size&&a>this.options.size?this.options.size:a);for(var e=this.first>a,f="circular"!=this.options.wrap&&this.first<=1?1:this.first,g=this.get(e?f:this.last),h=e?f:f-1,i=null,j=0,k=!1,l=0;e?--h>=a:++h<a;)i=this.get(h),k=!i.length,0===i.length&&(i=this.create(h).addClass(this.className("jcarousel-item-placeholder")),g[e?"before":"after"](i),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=h||h>this.options.size))&&(g=this.get(this.index(h)),g.length&&(i=this.add(h,g.clone(!0)))),g=i,l=this.dimension(i),k&&(j+=l),null!==this.first&&("circular"==this.options.wrap||h>=1&&(null===this.options.size||h<=this.options.size))&&(c=e?c+l:c-l);for(var f=this.clipping(),m=[],n=0,o=0,g=this.get(a-1),h=a;++n;){if(i=this.get(h),k=!i.length,0===i.length&&(i=this.create(h).addClass(this.className("jcarousel-item-placeholder")),0===g.length?this.list.prepend(i):g[e?"before":"after"](i),null!==this.first&&"circular"==this.options.wrap&&null!==this.options.size&&(0>=h||h>this.options.size)&&(g=this.get(this.index(h)),g.length&&(i=this.add(h,g.clone(!0))))),g=i,l=this.dimension(i),0===l)throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");if("circular"!=this.options.wrap&&null!==this.options.size&&h>this.options.size?m.push(i):k&&(j+=l),o+=l,o>=f)break;h++}for(i=0;i<m.length;i++)m[i].remove();if(j>0&&(this.list.css(this.wh,this.dimension(this.list)+j+"px"),e&&(c-=j,this.list.css(this.lt,d.intval(this.list.css(this.lt))-j+"px"))),j=a+n-1,"circular"!=this.options.wrap&&this.options.size&&j>this.options.size&&(j=this.options.size),h>j)for(n=0,h=j,o=0;++n&&(i=this.get(h--),i.length)&&(o+=this.dimension(i),!(o>=f)););for(h=j-n+1,"circular"!=this.options.wrap&&1>h&&(h=1),this.inTail&&e&&(c+=this.tail,this.inTail=!1),this.tail=null,"circular"!=this.options.wrap&&j==this.options.size&&j-n+1>=1&&(e=d.intval(this.get(j).css(this.options.vertical?"marginBottom":"marginRight")),o-e>f)&&(this.tail=o-f-e),b&&a===this.options.size&&this.tail&&(c-=this.tail,this.inTail=!0);a-->h;)c+=this.dimension(this.get(a));return this.prevFirst=this.first,this.prevLast=this.last,this.first=h,this.last=j,c},animate:function(b,c){if(!this.locked&&!this.animating){this.animating=!0;var d=this,e=function(){if(d.animating=!1,0===b&&d.list.css(d.lt,0),!d.autoStopped&&("circular"==d.options.wrap||"both"==d.options.wrap||"last"==d.options.wrap||null===d.options.size||d.last<d.options.size||d.last==d.options.size&&null!==d.tail&&!d.inTail)&&d.startAuto(),d.buttons(),d.notify("onAfterAnimation"),"circular"==d.options.wrap&&null!==d.options.size)for(var a=d.prevFirst;a<=d.prevLast;a++)null!==a&&!(a>=d.first&&a<=d.last)&&(1>a||a>d.options.size)&&d.remove(a)};if(this.notify("onBeforeAnimation"),this.options.animation&&c!==!1){var f=this.options.vertical?{top:b}:this.options.rtl?{right:b}:{left:b},e={duration:this.options.animation,easing:this.options.easing,complete:e};a.isFunction(this.options.animationStepCallback)&&(e.step=this.options.animationStepCallback),this.list.animate(f,e)}else this.list.css(this.lt,b+"px"),e()}},startAuto:function(a){if(void 0!==a&&(this.options.auto=a),0===this.options.auto)return this.stopAuto();if(null===this.timer){this.autoStopped=!1;var b=this;this.timer=window.setTimeout(function(){b.next()},1e3*this.options.auto)}},stopAuto:function(){this.pauseAuto(),this.autoStopped=!0},pauseAuto:function(){null!==this.timer&&(window.clearTimeout(this.timer),this.timer=null)},buttons:function(a,b){null!=a||(a=!this.locked&&0!==this.options.size&&(this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||this.last<this.options.size),this.locked||this.options.wrap&&"first"!=this.options.wrap||null===this.options.size||!(this.last>=this.options.size))||(a=null!==this.tail&&!this.inTail),null!=b||(b=!this.locked&&0!==this.options.size&&(this.options.wrap&&"last"!=this.options.wrap||this.first>1),this.locked||this.options.wrap&&"last"!=this.options.wrap||null===this.options.size||1!=this.first)||(b=null!==this.tail&&this.inTail);var c=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),a&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[a?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",a?!1:!0),null!==this.options.buttonNextCallback&&this.buttonNext.data("jcarouselstate")!=a&&this.buttonNext.each(function(){c.options.buttonNextCallback(c,this,a)}).data("jcarouselstate",a)):null!==this.options.buttonNextCallback&&this.buttonNextState!=a&&this.options.buttonNextCallback(c,null,a),this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),b&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[b?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",b?!1:!0),null!==this.options.buttonPrevCallback&&this.buttonPrev.data("jcarouselstate")!=b&&this.buttonPrev.each(function(){c.options.buttonPrevCallback(c,this,b)}).data("jcarouselstate",b)):null!==this.options.buttonPrevCallback&&this.buttonPrevState!=b&&this.options.buttonPrevCallback(c,null,b),this.buttonNextState=a,this.buttonPrevState=b},notify:function(a){var b=null===this.prevFirst?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",a,b),this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",a,b,this.first),this.callback("itemFirstOutCallback",a,b,this.prevFirst)),this.prevLast!==this.last&&(this.callback("itemLastInCallback",a,b,this.last),this.callback("itemLastOutCallback",a,b,this.prevLast)),this.callback("itemVisibleInCallback",a,b,this.first,this.last,this.prevFirst,this.prevLast),this.callback("itemVisibleOutCallback",a,b,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(b,c,d,e,f,g,h){if(null!=this.options[b]&&("object"==typeof this.options[b]||"onAfterAnimation"==c)){var i="object"==typeof this.options[b]?this.options[b][c]:this.options[b];if(a.isFunction(i)){var j=this;if(void 0===e)i(j,d,c);else if(void 0===f)this.get(e).each(function(){i(j,this,e,d,c)});else for(var b=function(a){j.get(a).each(function(){i(j,this,a,d,c)})},k=e;f>=k;k++)null!==k&&!(k>=g&&h>=k)&&b(k)}}},create:function(a){return this.format("<li></li>",a)},format:function(b,c){for(var b=a(b),d=b.get(0).className.split(" "),e=0;e<d.length;e++)-1!=d[e].indexOf("jcarousel-")&&b.removeClass(d[e]);return b.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+c)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",c),b},className:function(a){return a+" "+a+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(b,c){var e=a(b);if(null==c)return this.options.vertical?e.outerHeight(!0)||d.intval(this.options.itemFallbackDimension):e.outerWidth(!0)||d.intval(this.options.itemFallbackDimension);var f=this.options.vertical?c-d.intval(e.css("marginTop"))-d.intval(e.css("marginBottom")):c-d.intval(e.css("marginLeft"))-d.intval(e.css("marginRight"));return a(e).css(this.wh,f+"px"),this.dimension(e)},clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-d.intval(this.clip.css("borderTopWidth"))-d.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-d.intval(this.clip.css("borderLeftWidth"))-d.intval(this.clip.css("borderRightWidth"))},index:function(a,b){return null==b&&(b=this.options.size),Math.round(((a-1)/b-Math.floor((a-1)/b))*b)+1}}),d.extend({defaults:function(c){return a.extend(b,c||{})},intval:function(a){return a=parseInt(a,10),isNaN(a)?0:a},windowLoaded:function(){c=!0}}),a.fn.jcarousel=function(b){if("string"==typeof b){var c=a(this).data("jcarousel"),e=Array.prototype.slice.call(arguments,1);return c[b].apply(c,e)}return this.each(function(){var c=a(this).data("jcarousel");c?(b&&a.extend(c.options,b),c.reload()):a(this).data("jcarousel",new d(this,b))})}}(jQuery);